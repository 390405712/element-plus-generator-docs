import{d as A,r as _,h as P,w as O,E as L,e as o,F as v,i as V,j as R,m as a,k as T,l as B,n as G,f as F,p as W,q,s as H,t as J,v as K,x as Q,y as N,z as X,A as Z,B as j,C as ee,D as le,G as oe,H as re,I as te,J as ne,K as ae,L as me,o as k,a as D,b as $}from"../app.c8869e87.js";(function(){try{var i=document.createElement("style");i.appendChild(document.createTextNode(".FormGenerator.FormGeneratorSearch{display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;flex-direction:row;gap:15px 10px}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item{width:calc(25% - 8px);margin:0}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item.btnItem{margin:0}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item.btnItem .el-form-item__content{flex-wrap:nowrap}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline){padding-bottom:45px}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline) .btnItem{margin:0;height:64px;position:absolute;bottom:0;right:0;width:100%;box-shadow:1px 2px 10px #9ab7ff80;z-index:1;z-index:11;padding:0 16px;box-sizing:border-box}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline) .btnItem .el-form-item__content{display:flex;justify-content:flex-end;align-items:center;flex-wrap:nowrap}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline) .el-form-item__content>div{width:100%}.FormGenerator .searchItem{flex-grow:1;flex-shrink:0}.FormGenerator .searchItem .el-form-item__content{justify-content:flex-end}.FormGenerator .el-select,.FormGenerator .el-input,.FormGenerator .el-cascader,.FormGenerator .el-date-editor.el-input,.FormGenerator .el-date-editor.el-input__wrapper,.TableGenerator .el-scrollbar__view{width:100%}")),document.head.appendChild(i)}catch(f){console.error("vite-plugin-css-injected-by-js",f)}})();const Me=A({name:"TableGenerator",setup(i,{expose:f,attrs:s,slots:n,emit:h}){const l=s;let g,b=new Date().getTime(),w=_(!1),y=_(0);return P(()=>{O(()=>l.loading,x=>{x?g=L.service({target:`.el-table-${b}`}):g==null||g.close()},{immediate:!0}),O(()=>l.data,x=>{if(!(n!=null&&n.operation)||x.length===0)return w.value=!0;w.value=!1,setTimeout(()=>{let d=0;document.querySelectorAll(".content-wrapper-width").forEach(I=>{I.offsetWidth>d&&(d=I.offsetWidth)}),y.value=d>0?d+32:"auto",console.log(y.value),w.value=!0})},{immediate:!0})}),()=>{function x(c){return c.map(e=>["selection","index","expand"].includes(e.type)?o(V,a({type:e.type},e),null):o(V,a({"show-overflow-tooltip":!0,align:"left"},e),{default:m=>{var p,E;var u;return e.children&&e.children.length>0?x(e.children):n[e.prop]?o(v,null,[(u=n[e.prop])==null?void 0:u.call(n,{$index:m.$index,row:m.row})]):e.formatter?o(v,null,[(p=e.formatter({$index:m.$index,row:m.row}))!=null?p:"-"]):o(v,null,[(E=m.row[e.prop])!=null?E:"-"])},...e==null?void 0:e.slot}))}function d(){return o(T,a({stripe:!0},l,{class:`TableGenerator el-table-${b}`}),{default:()=>[x(l.tableOption),n!=null&&n.operation?o(V,{fixed:"right",label:"\u64CD\u4F5C",width:y.value},{default:c=>{var e;return o("div",{class:"content-wrapper"},[(e=n.operation)==null?void 0:e.call(n,{$index:c.$index,row:c.row})])}}):""],empty:()=>n!=null&&n.empty?n==null?void 0:n.empty():o(R,{description:"\u6682\u65E0\u6570\u636E"},null),append:()=>n!=null&&n.append?n==null?void 0:n.append():""})}function I(){return o(T,a(s,{class:`TableGenerator el-table-${b}`}),{default:()=>[o(V,{fixed:"right"},{default:c=>{var e;return o("div",{style:"display:inline-block;opacity:0",class:"content-wrapper content-wrapper-width"},[(e=n.operation)==null?void 0:e.call(n,{$index:c.$index,row:c.row})])}})]})}return o(v,null,[w.value?d():I()])}}});/*! Element Plus Icons Vue v2.0.10 */var C=(i,f)=>{let s=i.__vccOpts||i;for(let[n,h]of f)s[n]=h;return s},ie={name:"ArrowDown"},ue={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},de=$("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),pe=[de];function se(i,f,s,n,h,l){return k(),D("svg",ue,pe)}var ce=C(ie,[["render",se],["__file","arrow-down.vue"]]),fe={name:"ArrowUp"},ve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},he=$("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),be=[he];function we(i,f,s,n,h,l){return k(),D("svg",ve,be)}var xe=C(fe,[["render",we],["__file","arrow-up.vue"]]),ge={name:"Refresh"},ye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ie=$("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),Ee=[Ie];function Ge(i,f,s,n,h,l){return k(),D("svg",ye,Ee)}var Fe=C(ge,[["render",Ge],["__file","refresh.vue"]]),Ve={name:"Search"},_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ke=$("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),De=[ke];function $e(i,f,s,n,h,l){return k(),D("svg",_e,De)}var Ce=C(Ve,[["render",$e],["__file","search.vue"]]);function Ye(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!me(i)}const Se=A({name:"FormGenerator",setup(i,{expose:f,attrs:s,slots:n,emit:h}){const l=s,g=_(),b=_(!1),w={labelWidth:l.labelWidth||"auto",column:isNaN(l.column)?4:l.column>=4?l.column:4},y={submit:()=>{g.value.validate(d=>{d&&h("submit")})},reset:()=>{g.value.resetFields(),h("submit","init")}};function x(d){b.value=d,l.formOption.forEach((I,c)=>{c>w.column-2&&(I.show=d)})}return l.formOption.length>=w.column-2&&(l==null?void 0:l.type)==="search"&&x(!1),f(()=>({...g.value,...y})),()=>{function d(){let e={...l};return delete e.model,delete e.formOption,l.formOption.forEach(m=>{var u,p,E;(u=m==null?void 0:m.formItem)!=null&&u.rules&&!((E=(p=m==null?void 0:m.formItem)==null?void 0:p.rules)!=null&&E.hasOwnProperty("trigger"))&&(m.formItem.rules.trigger="blur")}),o(W,a({class:`FormGenerator ${(l==null?void 0:l.type)==="search"?"FormGeneratorSearch":""} ${(l==null?void 0:l.type)==="dialog"?"FormGeneratorDialog":""}`,inline:(l==null?void 0:l.type)==="search","validate-on-rule-change":!1,"scroll-to-error":!0},w,e,{ref:g}),{default:()=>[l.formOption.map(m=>{let u;if(!(m.hasOwnProperty("show")&&m.show===!1))return o(B,m.formItem,Ye(u=I(m))?u:{default:()=>[u]})}),e.disabled===!0||e.noFooter||!e.onSubmit?"":o(B,{class:`btnItem ${b.value?"searchItem":""}`},{default:()=>n!=null&&n.default?o(v,null,[n.default()[0].children]):(l==null?void 0:l.type)==="search"?c():o(v,null,[o(G,{onClick:m=>{function u(p){return p.parentElement.className!=="el-dialog"?u(p.parentElement):p.parentElement}u(m.target).querySelector(".el-dialog__headerbtn").click()}},{default:()=>[F("\u53D6\u6D88")]}),o(G,{type:"primary",onClick:y.submit},{default:()=>[F("\u786E\u5B9A")]})])})]})}function I(e){var m,u,p,E,Y,U,M,S;switch(e.type){case"input":return o(ae,a({clearable:!0,maxlength:30},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(m=e==null?void 0:e.control)==null?void 0:m.slot});case"input-number":return o(ne,a({min:0,max:100},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),null);case"select":return o(te,a({clearable:!0},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(re,a(t,{key:t.value}),{...t==null?void 0:t.slot}))]}});case"tree-select":return o(oe,a({clearable:!0},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(u=e==null?void 0:e.control)==null?void 0:u.slot});case"cascader":return o(le,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),null);case"radio":return o(j,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(ee,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"radio-button":return o(j,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(Z,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"checkbox":return o(N,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(X,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"checkbox-button":return o(N,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(Q,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"datetime":const z={datetimerange:"YYYY-MM-DD hh:mm:ss",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD hh:mm:ss",date:"YYYY-MM-DD"}[((p=e==null?void 0:e.control)==null?void 0:p.type)||"date"];return o(K,a({clearable:!0,format:z,"value-format":z},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(E=e==null?void 0:e.control)==null?void 0:E.slot});case"time":return o(J,a({clearable:!0},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(Y=e==null?void 0:e.control)==null?void 0:Y.slot});case"switch":return o(H,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(U=e==null?void 0:e.control)==null?void 0:U.slot});case"upload":return o(q,a(e==null?void 0:e.control,{"file-list":l.model[e.formItem.prop],"onUpdate:file-list":r=>l.model[e.formItem.prop]=r}),{default:()=>l.disabled?"":o(G,{type:"primary"},{default:()=>[F("\u4E0A\u4F20\u6587\u4EF6")]}),...(M=e==null?void 0:e.control)==null?void 0:M.slot});case"txt":return o(v,null,[l.model[e.formItem.prop]]);case"slot":return o(v,null,[(S=n[e.formItem.prop])==null?void 0:S.call(n,{form:l.model,data:l.model[e.formItem.prop]})])}}function c(){return o(v,null,[o(G,{type:"primary",onClick:y.submit,icon:Ce},{default:()=>[F("\u641C\u7D22")]}),o(G,{onClick:y.reset,icon:Fe},{default:()=>[F("\u91CD\u7F6E")]}),l.type==="search"&&l.formOption.length>w.column-1?o(v,null,[o(G,{text:!0,type:"primary",onClick:()=>{x(!b.value)},icon:b.value?xe:ce},{default:()=>[b.value?"\u6536\u8D77":"\u5C55\u5F00"]})]):""])}return d()}}});export{Se as P,Me as z};
