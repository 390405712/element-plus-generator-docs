const u=(o,r,i,l)=>{if(!Array.isArray(o))return[];const n=[];let e=[];return l&&(e=Object.keys(l)),o.forEach(t=>{let m={label:typeof t=="string"?t:t[r],value:typeof t=="string"?t:t[i]};l&&e.forEach(s=>{m[s]=t[s]}),n.push(m)}),n},a=(o,r)=>o.filter(i=>i.formItem.prop===r)[0]||{type:"input",formItem:{prop:"",label:""}},f=(o,r,i)=>{var l;const n={input:"\u8F93\u5165","input-number":"\u8F93\u5165",select:"\u9009\u62E9","tree-select":"\u9009\u62E9",cascader:"\u9009\u62E9",radio:"\u9009\u62E9","radio-button":"\u9009\u62E9",checkbox:"\u9009\u62E9","checkbox-button":"\u9009\u62E9",datetime:"\u9009\u62E9",time:"\u9009\u62E9",switch:"\u9009\u62E9",upload:"\u4E0A\u4F20",slot:"\u8F93\u5165"},e=a(o.formOption,o.field);if(Array.isArray(r)&&r.length===0)return Promise.reject(`\u8BF7${e.formItem.label.includes("\u6587\u4EF6")||e.formItem.label.includes("\u4E0A\u4F20")?"\u4E0A\u4F20":"\u9009\u62E9"}${e.formItem.label}`);if(!r)return Promise.reject(`\u8BF7${e.formItem.label.includes("\u6587\u4EF6")||e.formItem.label.includes("\u4E0A\u4F20")?"\u4E0A\u4F20":n[e.type]||"\u9009\u62E9"}${e.formItem.label}`);if(!((l=e==null?void 0:e.formItem)!=null&&l.rules))return Promise.resolve();if(typeof e.formItem.rules.validator=="function")e.formItem.rules.validator(o,r).then(()=>i()).catch(t=>{var s;var m;return i(new Error(t!=="err"?t:(s=(m=e==null?void 0:e.formItem.rules)==null?void 0:m.message)!=null?s:""))});else return e.formItem.rules.validator.test(r)?Promise.resolve():Promise.reject(e.formItem.rules.message)},c=(o,r=[])=>{let i={};return o.forEach(l=>{var m;var n,e;const t=typeof l=="string"?l:l.formItem.prop;r.includes(t)||(i[t]=[{required:!0,validator:f,trigger:(m=(e=(n=l.formItem)==null?void 0:n.rules)==null?void 0:e.trigger)!=null?m:"blur",formOption:o}])}),i},d={checkIphoneNum:(o,r)=>r?/(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/.test(r)?Promise.resolve():Promise.reject("\u624B\u673A\u683C\u5F0F\u6709\u8BEF"):Promise.reject("\u8BF7\u8F93\u5165\u624B\u673A\u53F7")},p=Object.freeze(Object.defineProperty({__proto__:null,CommonValidator:d,getLabel:a,getOption:u,getRules:c},Symbol.toStringTag,{value:"Module"}));export{p as b};
