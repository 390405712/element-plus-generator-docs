import{d as P,r as _,v as A,y as T,z as L,e as o,F as f,A as V,B as R,C as a,D as z,G as B,H as G,f as E,I as W,J as H,K as q,L as J,M as K,N as Q,O as N,P as X,Q as Z,R as j,S as ee,T as le,U as oe,V as re,W as te,X as ne,Y as ae,Z as me,o as k,a as C,b as $}from"../app.491edfde.js";(function(){try{var i=document.createElement("style");i.appendChild(document.createTextNode(".FormGenerator.FormGeneratorSearch{display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:wrap;flex-direction:row;gap:15px 10px}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item{width:calc(25% - 8px);margin:0}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item.btnItem{margin:0}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item.btnItem .el-form-item__label-wrap{display:none}.FormGenerator.FormGeneratorSearch.el-form--inline .el-form-item.btnItem .el-form-item__content{flex-wrap:nowrap}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline){padding-bottom:45px}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline) .btnItem{margin:0;height:64px;position:absolute;bottom:0;right:0;width:100%;box-shadow:1px 2px 10px #9ab7ff80;z-index:1;z-index:11;padding:0 16px;box-sizing:border-box}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline) .btnItem .el-form-item__content{display:flex;justify-content:flex-end;align-items:center;flex-wrap:nowrap}.FormGenerator.FormGeneratorDialog.el-form--default:not(.el-form--inline) .el-form-item__content>div{width:100%}.FormGenerator .searchItem{flex-grow:1;flex-shrink:0}.FormGenerator .searchItem .el-form-item__content{justify-content:flex-end}.FormGenerator .el-select,.FormGenerator .el-input,.FormGenerator .el-cascader,.FormGenerator .el-date-editor.el-input,.FormGenerator .el-date-editor.el-input__wrapper,.TableGenerator .el-scrollbar__view{width:100%}")),document.head.appendChild(i)}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();const Se=P({name:"TableGenerator",setup(i,{expose:c,attrs:p,slots:n,emit:v}){const l=p;let g,h=new Date().getTime(),b=_(!1),y=_(0);return A(()=>{T(()=>l.loading,w=>{w?g=L.service({target:`.el-table-${h}`}):g==null||g.close()},{immediate:!0}),T(()=>l.data,w=>{if(!(n!=null&&n.operation)||w.length===0)return b.value=!0;b.value=!1,setTimeout(()=>{let d=0;document.querySelectorAll(".content-wrapper-width").forEach(I=>{I.offsetWidth>d&&(d=I.offsetWidth)}),y.value=d>0?d+32:"auto",console.log(y.value),b.value=!0})},{immediate:!0})}),()=>{function w(s){return s.map(e=>["selection","index","expand"].includes(e.type)?o(V,a({type:e.type},e),{...e==null?void 0:e.slot}):o(V,a({"show-overflow-tooltip":!0,align:"left"},e),{default:m=>{var u;return e.children&&e.children.length>0?w(e.children):n[e.prop]?o(f,null,[(u=n[e.prop])==null?void 0:u.call(n,{$index:m.$index,row:m.row})]):e.formatter?o(f,null,[e.formatter({$index:m.$index,row:m.row})??"-"]):o(f,null,[m.row[e.prop]??"-"])},...e==null?void 0:e.slot}))}function d(){return o(z,a({stripe:!0},l,{class:`TableGenerator el-table-${h}`}),{default:()=>[w(l.tableOption),n!=null&&n.operation?o(V,{fixed:"right",label:"操作",width:y.value},{default:s=>{var e;return o("div",{class:"content-wrapper"},[(e=n.operation)==null?void 0:e.call(n,{$index:s.$index,row:s.row})])}}):""],empty:()=>n!=null&&n.empty?n==null?void 0:n.empty():o(R,{description:"暂无数据"},null),append:()=>n!=null&&n.append?n==null?void 0:n.append():""})}function I(){return o(z,a(p,{class:`TableGenerator el-table-${h}`}),{default:()=>[o(V,{fixed:"right"},{default:s=>{var e;return o("div",{style:"display:inline-block;opacity:0",class:"content-wrapper content-wrapper-width"},[(e=n.operation)==null?void 0:e.call(n,{$index:s.$index,row:s.row})])}})]})}return o(f,null,[b.value?d():I()])}}});/*! Element Plus Icons Vue v2.0.10 */var U=(i,c)=>{let p=i.__vccOpts||i;for(let[n,v]of c)p[n]=v;return p},ie={name:"ArrowDown"},ue={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},de=$("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),pe=[de];function se(i,c,p,n,v,l){return k(),C("svg",ue,pe)}var ce=U(ie,[["render",se],["__file","arrow-down.vue"]]),fe={name:"ArrowUp"},ve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},he=$("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),be=[he];function we(i,c,p,n,v,l){return k(),C("svg",ve,be)}var xe=U(fe,[["render",we],["__file","arrow-up.vue"]]),ge={name:"Refresh"},ye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ie=$("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),Ge=[Ie];function Fe(i,c,p,n,v,l){return k(),C("svg",ye,Ge)}var Ee=U(ge,[["render",Fe],["__file","refresh.vue"]]),Ve={name:"Search"},_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ke=$("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),Ce=[ke];function $e(i,c,p,n,v,l){return k(),C("svg",_e,Ce)}var Ue=U(Ve,[["render",$e],["__file","search.vue"]]);function De(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!me(i)}const Me=P({name:"FormGenerator",setup(i,{expose:c,attrs:p,slots:n,emit:v}){const l=p,g=_(),h=_(!1),b={labelWidth:l.labelWidth||"auto",column:isNaN(l.column)?4:l.column>=4?l.column:4},y={submit:()=>{g.value.validate(d=>{d&&v("submit")})},reset:()=>{g.value.resetFields(),v("submit","init")}};function w(d){h.value=d,l.formOption.forEach((I,s)=>{s>b.column-2&&(I.show=d)})}return l.formOption.length>=b.column-2&&(l==null?void 0:l.type)==="search"&&w(!1),c(()=>({...g.value,...y})),()=>{function d(){let e={...l};return delete e.model,delete e.formOption,l.formOption.forEach(m=>{var u,x,F;(u=m==null?void 0:m.formItem)!=null&&u.rules&&!((F=(x=m==null?void 0:m.formItem)==null?void 0:x.rules)!=null&&F.hasOwnProperty("trigger"))&&(m.formItem.rules.trigger="blur")}),o(W,a({class:`FormGenerator ${(l==null?void 0:l.type)==="search"?"FormGeneratorSearch":""} ${(l==null?void 0:l.type)==="dialog"?"FormGeneratorDialog":""}`,inline:(l==null?void 0:l.type)==="search","validate-on-rule-change":!1},b,e,{ref:g}),{default:()=>[l.formOption.map(m=>{let u;if(!(m.hasOwnProperty("show")&&m.show===!1))return o(B,m.formItem,De(u=I(m))?u:{default:()=>[u]})}),e.disabled===!0||e.noFooter||!e.onSubmit?"":o(B,{class:`btnItem ${h.value?"searchItem":""}`},{default:()=>n!=null&&n.default?o(f,null,[n.default()[0].children]):(l==null?void 0:l.type)==="search"?s():o(f,null,[o(G,{onClick:m=>{function u(x){return x.parentElement.className!=="el-dialog"?u(x.parentElement):x.parentElement}u(m.target).querySelector(".el-dialog__headerbtn").click()}},{default:()=>[E("取消")]}),o(G,{type:"primary",onClick:y.submit},{default:()=>[E("确定")]})]),label:()=>""})]})}function I(e){var m,u,x,F,D,Y,S,M;switch(e.type){case"input":return o(ae,a({clearable:!0,maxlength:30},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(m=e==null?void 0:e.control)==null?void 0:m.slot});case"input-number":return o(ne,a({min:0,max:100},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),null);case"select":return o(te,a({clearable:!0},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(re,a(t,{key:t.value}),{...t==null?void 0:t.slot}))]}});case"tree-select":return o(oe,a({clearable:!0},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(u=e==null?void 0:e.control)==null?void 0:u.slot});case"cascader":return o(le,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),null);case"radio":return o(j,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(ee,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"radio-button":return o(j,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(Z,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"checkbox":return o(N,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(X,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"checkbox-button":return o(N,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{default:()=>{var r;return[(r=e==null?void 0:e.control)==null?void 0:r.option.map(t=>o(Q,a(t,{label:t.value,key:t.label}),{default:()=>[t.label],...t==null?void 0:t.slot}))]}});case"datetime":const O={datetimerange:"YYYY-MM-DD hh:mm:ss",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD hh:mm:ss",date:"YYYY-MM-DD"}[((x=e==null?void 0:e.control)==null?void 0:x.type)||"date"];return o(K,a({clearable:!0,format:O,"value-format":O},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(F=e==null?void 0:e.control)==null?void 0:F.slot});case"time":return o(J,a({clearable:!0},e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(D=e==null?void 0:e.control)==null?void 0:D.slot});case"switch":return o(q,a(e==null?void 0:e.control,{modelValue:l.model[e.formItem.prop],"onUpdate:modelValue":r=>l.model[e.formItem.prop]=r}),{...(Y=e==null?void 0:e.control)==null?void 0:Y.slot});case"upload":return o(H,a(e==null?void 0:e.control,{"file-list":l.model[e.formItem.prop],"onUpdate:file-list":r=>l.model[e.formItem.prop]=r}),{default:()=>l.disabled?"":o(G,{type:"primary"},{default:()=>[E("上传文件")]}),...(S=e==null?void 0:e.control)==null?void 0:S.slot});case"txt":return o(f,null,[l.model[e.formItem.prop]]);case"slot":return o(f,null,[(M=n[e.formItem.prop])==null?void 0:M.call(n,{form:l.model,data:l.model[e.formItem.prop]})])}}function s(){return o(f,null,[o(G,{type:"primary",onClick:y.submit,icon:Ue},{default:()=>[E("搜索")]}),o(G,{onClick:y.reset,icon:Ee},{default:()=>[E("重置")]}),l.type==="search"&&l.formOption.length>b.column-1?o(f,null,[o(G,{text:!0,type:"primary",onClick:()=>{w(!h.value)},icon:h.value?xe:ce},{default:()=>[h.value?"收起":"展开"]})]):""])}return d()}}});export{Me as P,Se as z};
