const i=(r,a,s,e)=>{if(!Array.isArray(r))return[];const o=[];let l=[];return e&&(l=Object.keys(e)),r.forEach(t=>{let m={label:typeof t=="string"?t:t[a],value:typeof t=="string"?t:t[s]};e&&l.forEach(u=>{m[u]=t[u]}),o.push(m)}),o},n=(r,a)=>r.filter(s=>s.formItem.prop===a)[0]||{type:"input",formItem:{prop:"",label:""}},f=(r,a=[])=>{const s={input:"输入","input-number":"输入",select:"选择","tree-select":"选择",cascader:"选择",radio:"选择","radio-button":"选择",checkbox:"选择","checkbox-button":"选择",datetime:"选择",time:"选择",switch:"选择",upload:"上传"};return r.forEach(e=>{const o={required:!0,message:`请${s[e.type]||"完善"}${e.formItem.label||""}`,trigger:"change"};if(!a.includes(e.formItem.prop)){e.formItem.rules?Array.isArray(e.formItem.rules)?e.formItem.rules.unshift(o):Array.isArray(e.formItem.rules)||(e.formItem.rules=[o,e.formItem.rules]):e.formItem.rules=[o];for(let l=0;l<e.formItem.rules.length;l++){let t=e.formItem.rules[l];t.validator&&typeof t.validator!="function"&&(t.pattern=t.validator,t.message=t.message||"格式有误",delete t.validator)}}}),r},c=Object.freeze(Object.defineProperty({__proto__:null,getLabel:n,getOption:i,setRequired:f},Symbol.toStringTag,{value:"Module"}));export{c as p};
