import{b as fs,C as vs,i as G,U as k,d as I,m as U,a as E,e as J,f as hs,u as bs,g as _s,h as Es,j as gs,k as ks,l as Vs,E as X,_ as xs,n as g,o as Q,w as ws,L as Is}from"./chunks/index.f245b46b.js";import{f as O,R as Y,r as V,c as r,a3 as S,a4 as Z,a5 as T,a6 as ss,e as Ss,h as c,i as d,F as as,L as Ts,k as f,u as n,E as h,B as x,a7 as ls,A as v,I as N,a8 as ns,C as B,W as os,t as es,a1 as Ns,a2 as Bs,l as ts,z as j,O as js}from"./chunks/framework.da0a5549.js";import"./chunks/commonjsHelpers.28e086c5.js";const Os=fs({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:I([Array,Object]),default:()=>U(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:I([Array,Object]),default:()=>[E,E,E]},voidIcon:{type:J,default:()=>hs},disabledVoidIcon:{type:J,default:()=>E},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:I(Array),default:()=>U(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:bs,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Ps={[vs]:A=>G(A),[k]:A=>G(A)},qs=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Hs=["onMousemove","onClick"],Ms=O({name:"ElRate"}),$s=O({...Ms,props:Os,emits:Ps,setup(A,{expose:C,emit:D}){const s=A;function i(a,l){const o=t=>Z(t),y=Object.keys(l).map(t=>+t).filter(t=>{const _=l[t];return(o(_)?_.excluded:!1)?a<t:a<=t}).sort((t,_)=>t-_),m=l[y[0]];return o(m)&&m.value||m}const b=Y(_s,void 0),P=Y(Es,void 0),rs=gs(),e=ks("rate"),{inputId:cs,isLabeledByFormItem:q}=Vs(s,{formItemContext:P}),p=V(s.modelValue),w=V(-1),u=V(!0),Ds=r(()=>[e.b(),e.m(rs.value)]),F=r(()=>s.disabled||(b==null?void 0:b.disabled)),ys=r(()=>e.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":$.value})),H=r(()=>{let a="";return s.showScore?a=s.scoreTemplate.replace(/\{\s*value\s*\}/,F.value?`${s.modelValue}`:`${p.value}`):s.showText&&(a=s.texts[Math.ceil(p.value)-1]),a}),M=r(()=>s.modelValue*100-Math.floor(s.modelValue)*100),Fs=r(()=>S(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),$=r(()=>{const a=i(p.value,Fs.value);return Z(a)?"":a}),Cs=r(()=>{let a="";return F.value?a=`${M.value}%`:s.allowHalf&&(a="50%"),{color:$.value,width:a}}),R=r(()=>{let a=S(s.icons)?[...s.icons]:{...s.icons};return a=T(a),S(a)?{[s.lowThreshold]:a[0],[s.highThreshold]:{value:a[1],excluded:!0},[s.max]:a[2]}:a}),As=r(()=>i(s.modelValue,R.value)),is=r(()=>F.value?ss(s.disabledVoidIcon)?s.disabledVoidIcon:T(s.disabledVoidIcon):ss(s.voidIcon)?s.voidIcon:T(s.voidIcon)),us=r(()=>i(p.value,R.value));function z(a){const l=F.value&&M.value>0&&a-1<s.modelValue&&a>s.modelValue,o=s.allowHalf&&u.value&&a-.5<=p.value&&a>p.value;return l||o}function L(a){s.clearable&&a===s.modelValue&&(a=0),D(k,a),s.modelValue!==a&&D("change",a)}function ds(a){F.value||(s.allowHalf&&u.value?L(p.value):L(a))}function ms(a){if(F.value)return;let l=p.value;const o=a.code;return o===g.up||o===g.right?(s.allowHalf?l+=.5:l+=1,a.stopPropagation(),a.preventDefault()):(o===g.left||o===g.down)&&(s.allowHalf?l-=.5:l-=1,a.stopPropagation(),a.preventDefault()),l=l<0?0:l,l=l>s.max?s.max:l,D(k,l),D("change",l),l}function K(a,l){if(!F.value){if(s.allowHalf&&l){let o=l.target;Q(o,e.e("item"))&&(o=o.querySelector(`.${e.e("icon")}`)),(o.clientWidth===0||Q(o,e.e("decimal")))&&(o=o.parentNode),u.value=l.offsetX*2<=o.clientWidth,p.value=u.value?a-.5:a}else p.value=a;w.value=a}}function W(){F.value||(s.allowHalf&&(u.value=s.modelValue!==Math.floor(s.modelValue)),p.value=s.modelValue,w.value=-1)}return Ss(()=>s.modelValue,a=>{p.value=a,u.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||D(k,0),C({setCurrentValue:K,resetCurrentValue:W}),(a,l)=>{var o;return c(),d("div",{id:n(cs),class:f([n(Ds),n(e).is("disabled",n(F))]),role:"slider","aria-label":n(q)?void 0:a.label||"rating","aria-labelledby":n(q)?(o=n(P))==null?void 0:o.labelId:void 0,"aria-valuenow":p.value,"aria-valuetext":n(H)||void 0,"aria-valuemin":"0","aria-valuemax":a.max,tabindex:"0",style:os(n(ys)),onKeydown:ms},[(c(!0),d(as,null,Ts(a.max,(y,m)=>(c(),d("span",{key:m,class:f(n(e).e("item")),onMousemove:t=>K(y,t),onMouseleave:W,onClick:t=>ds(y)},[h(n(X),{class:f([n(e).e("icon"),{hover:w.value===y},n(e).is("active",y<=p.value)])},{default:x(()=>[z(y)?B("v-if",!0):(c(),d(as,{key:0},[ls((c(),v(N(n(us)),null,null,512)),[[ns,y<=p.value]]),ls((c(),v(N(n(is)),null,null,512)),[[ns,!(y<=p.value)]])],64)),z(y)?(c(),v(n(X),{key:1,style:os(n(Cs)),class:f([n(e).e("icon"),n(e).e("decimal")])},{default:x(()=>[(c(),v(N(n(As))))]),_:1},8,["style","class"])):B("v-if",!0)]),_:2},1032,["class"])],42,Hs))),128)),a.showText||a.showScore?(c(),d("span",{key:0,class:f(n(e).e("text"))},es(n(H)),3)):B("v-if",!0)],46,qs)}}});var Rs=xs($s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ps=ws(Rs),zs=O({__name:"Slot",setup(A){const C=V({model:{key1:"基础用法文本值",key2:"模板插槽文本值",key3:"jsx插槽文本值",key4:2,key5:2},formOption:[{type:"slot",formItem:{prop:"key1",label:"基础用法"}},{type:"slot",formItem:{prop:"key2",label:"模板插槽"}},{type:"slot",formItem:{prop:"key3",label:"jsx插槽"},control:{slots:{default:D=>h("div",{style:"word-break: break-all;"},[JSON.stringify(D)])}}},{type:"slot",formItem:{prop:"key4",label:"模板插槽(带组件)"}},{type:"slot",formItem:{prop:"key5",label:"jsx插槽(带组件)"},control:{slots:{default:D=>h(ps,{modelValue:C.value.model.key5,"onUpdate:modelValue":s=>C.value.model.key5=s},null)}}}]});return(D,s)=>(c(),v(n(Is),Ns(Bs({...C.value})),{key2:x(i=>[ts(es(i),1)]),key4:x(i=>[h(n(ps),{modelValue:C.value.model.key4,"onUpdate:modelValue":s[0]||(s[0]=b=>C.value.model.key4=b)},null,8,["modelValue"])]),_:1},16))}}),Ls=j("h1",{id:"slot-自定义插槽",tabindex:"-1"},[ts("Slot 自定义插槽 "),j("a",{class:"header-anchor",href:"#slot-自定义插槽","aria-label":'Permalink to "Slot 自定义插槽"'},"​")],-1),Ks={class:"vp-raw"},Ws=js("",1),Ys=JSON.parse('{"title":"Slot 自定义插槽","description":"","frontmatter":{},"headers":[],"relativePath":"control/Slot.md"}'),Gs={name:"control/Slot.md"},Zs=Object.assign(Gs,{setup(A){return(C,D)=>(c(),d("div",null,[Ls,j("div",Ks,[h(zs)]),Ws]))}});export{Ys as __pageData,Zs as default};
