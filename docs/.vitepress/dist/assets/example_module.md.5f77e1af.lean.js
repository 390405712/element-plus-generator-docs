import{d as E,r as a,o as u,a as v,e as t,u as l,m as _,n as h,i as B,c as q,w as d,q as T,E as P,v as w,b as m,f as b,x as $,g as O}from"./app.78e5ef39.js";import{P as k,z}from"./chunks/index.f1fa53d8.js";import{p as S}from"./chunks/utils-9d833f48.9830f2ea.js";const N=E({__name:"Page",setup(g,{expose:e}){let s=a(1),n=a(10),p=a(0);function c(o){s.value=o,D().Table.getTableData(null,"page")}function r(o){s.value=1,i(o),D().Table.getTableData(null,"page")}function F(){return n}function A(){return s}function i(o){n.value=o}function y(o){s.value=o}function C(o){p.value=o}const D=h("getRefs");return e({getPageNum:A,getPageSize:F,setPageNum:y,setTotal:C}),(o,f)=>{const R=B("el-pagination");return u(),v("div",null,[t(R,{background:"",onSizeChange:r,onCurrentChange:c,currentPage:l(s),"onUpdate:currentPage":f[0]||(f[0]=x=>_(s)?s.value=x:s=x),layout:"prev, pager, next","page-size":l(n),total:l(p)},null,8,["currentPage","page-size","total"])])}}}),G=E({__name:"AddDialog",setup(g,{expose:e}){let s=a(),n=a(!1),p=a("新增"),c=a({}),r=a([{type:"input",formItem:{prop:"key1",label:"文本1"}},{type:"select",formItem:{prop:"key2",label:"文本2"},control:{option:[{label:"文本1",value:"值1"},{label:"文本2",value:"值2"}]}}]);const F=S.getRules(r.value);async function A(C){p.value=C?"修改":"新增",n.value=!0,T(async()=>{var D;(D=s.value())==null||D.resetFields(),p.value})}async function i(){n.value=!1,p.value,P.success(`${p.value}成功`),y().Table.getTableData()}const y=h("getRefs");return e({openDialog:A}),(C,D)=>{const o=B("el-dialog");return u(),q(o,{title:l(p),modelValue:l(n),"onUpdate:modelValue":D[0]||(D[0]=f=>_(n)?n.value=f:n=f),width:"500px"},{default:d(()=>[t(l(k),{type:"dialog",ref_key:"RefFormGenerator",ref:s,model:l(c),formOption:l(r),rules:l(F),onSubmit:i},null,8,["model","formOption","rules"])]),_:1},8,["title","modelValue"])}}}),I=E({__name:"Form",setup(g,{expose:e}){let s=a({}),n=a([{type:"input",formItem:{prop:"key1",label:"字段1"}},{type:"select",formItem:{prop:"key2",label:"字段2"},control:{option:[{label:"文本1",value:"值1"}]}},{type:"input",formItem:{prop:"key3",label:"字段3"}},{type:"input",formItem:{prop:"key4",label:"字段4"}},{type:"input",formItem:{prop:"key5",label:"字段5"}}]);function p(){c().Page.setPageNum(1),c().Table.getTableData()}const c=h("getRefs");return e({form:s}),(r,F)=>(u(),q(l(k),{type:"search",model:l(s),formOption:l(n),onSubmit:p},null,8,["model","formOption"]))}}),j={class:"Table"},M={class:"tool"},V=E({__name:"Table",setup(g,{expose:e}){let s=a(!1),n=a([{prop:"key1",label:"文本1"},{prop:"key2",label:"文本2"},{prop:"key3",label:"文本3"},{prop:"key4",label:"文本4"},{prop:"key5",label:"文本5"}]),p=a([]);async function c(){F(),s.value=!0,s.value=!1}function r(A){F().AddDialog.openDialog(A)}w(()=>{c()});const F=h("getRefs");return e({getTableData:c}),(A,i)=>{const y=B("el-button");return u(),v("div",j,[m("div",M,[t(y,{type:"primary",onClick:i[0]||(i[0]=C=>r())},{default:d(()=>[b("新增")]),_:1})]),t(l(z),{data:l(p),loading:l(s),tableOption:l(n)},{operation:d(C=>[t(y,{link:"",type:"primary",onClick:D=>r(C.row.id)},{default:d(()=>[b("编辑")]),_:2},1032,["onClick"]),t(y,{link:"",type:"primary"},{default:d(()=>[b("删除")]),_:1})]),_:1},8,["data","loading","tableOption"])])}}}),U={class:"Container"},J=E({__name:"index",setup(g){let e=a(),s=a(),n=a(),p=a();return $("getRefs",()=>({Form:e.value,Table:s.value,Page:n.value,AddDialog:p.value})),(c,r)=>(u(),v("div",U,[t(I,{ref_key:"RefForm",ref:e,class:"Form"},null,512),t(V,{ref_key:"RefTable",ref:s,class:"Table"},null,512),t(N,{ref_key:"RefPage",ref:n,class:"Page"},null,512),t(G,{ref_key:"RefAddDialog",ref:p},null,512)]))}}),L=m("h1",{id:"模板化模块",tabindex:"-1"},[b("模板化模块 "),m("a",{class:"header-anchor",href:"#模板化模块","aria-hidden":"true"},"#")],-1),H=m("p",null,"扁平化组件，将父级组件作为通信组件",-1),K={class:"vp-raw"},Q=O("",14),ss=JSON.parse('{"title":"模板化模块","description":"","frontmatter":{},"headers":[{"level":2,"title":"文件结构","slug":"文件结构","link":"#文件结构","children":[]},{"level":2,"title":"index.vue（通信组件）","slug":"index-vue-通信组件","link":"#index-vue-通信组件","children":[]},{"level":2,"title":"Form.vue（搜索表单组件）","slug":"form-vue-搜索表单组件","link":"#form-vue-搜索表单组件","children":[]},{"level":2,"title":"Table.vue（列表组件）","slug":"table-vue-列表组件","link":"#table-vue-列表组件","children":[]},{"level":2,"title":"AddDialog.vue（新增、编辑表单组件）","slug":"adddialog-vue-新增、编辑表单组件","link":"#adddialog-vue-新增、编辑表单组件","children":[]},{"level":2,"title":"Page.vue（分页组件）","slug":"page-vue-分页组件","link":"#page-vue-分页组件","children":[]},{"level":2,"title":"global.scss（公共样式）","slug":"global-scss-公共样式","link":"#global-scss-公共样式","children":[]}],"relativePath":"example/module.md"}'),W={name:"example/module.md"},ns=Object.assign(W,{setup(g){return(e,s)=>(u(),v("div",null,[L,H,m("div",K,[t(J)]),Q]))}});export{ss as __pageData,ns as default};
